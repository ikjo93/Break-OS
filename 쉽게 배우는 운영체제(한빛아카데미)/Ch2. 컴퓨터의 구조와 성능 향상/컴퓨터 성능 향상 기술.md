### 현대 컴퓨터 구조의 가장 큰 문제점
+ CPU와 메모리, 주변장치 간 작업 속도의 차이
+ 장치 간 속도 차이 및 시스템의 작업 속도 개선 필요

<br>

### 버퍼
+ 일정량의 데이터를 모아 옮김으로써 두 장치 간 속도 차이 완화
+ 하드디스크 메모리 버퍼, 동영상 스트리밍, 모니터 버퍼

<br>

### 스풀
+ CPU와 입출력장치가 독립적으로 동작하도록 고안된 소프트웨어적인 버퍼
+ 프린터 스풀러

<br>

### 캐시
+ 메모리의 데이터를 미리 가져와 저장해두는 임시 장소
+ ex. L1 캐시, L2 캐시, 웹 브라우저 캐시
+ 메모리와 CPU 간 속도 차이 완화
+ CPU가 앞으로 사용할 것으로 예상되는 데이터를 미리 가져다 놓음(미리 가져오기)
+ CPU 안에 있어 CPU 내부 버스의 속도로 작동
+ 캐시에서 원하는 데이터 찾은 경우 : 캐시 히트(일반적으로 약 90%)
+ 캐시에서 원하는 데이터를 찾지 못한 경우 : 캐시 미스
+ 캐시 적중률 높이는 방법
  + 캐시의 크기 늘리기
  + 앞으로 많이 사용될 데이터 가져오기(지역성 이론)

<br>

### 즉시 쓰기와 지연 쓰기
+ 캐시의 변경된 데이터를 메모리에 반영하기 위한 방법

<br>

### 즉시 쓰기
+ 캐시에 있는 데이터가 변경되면 이를 즉시 메모리에 반영하는 방식
+ 메모리와의 빈번한 데이터 전송으로 인해 성능이 느려짐
+ 급작스러운 정전에도 데이터 소실 X

<br>

### 지연 쓰기
+ 캐시에 있는 데이터가 변경되면 이를 모아 주기적으로 메모리에 반영하는 방식(copy back, 카피백)
+ 즉시 쓰기 대비 메모리와의 데이터 전송 횟수 적음 → 시스템 서능 향상 기대
+ 메모리와 캐시된 데이터 사이 불일치 우려

<br>

### 프로그램의 명령어
+ 명령어 부분 : 어떤 작업을 할지 나타냄
+ 데이터 부분 : 작업 대상

<br>

### L1 캐시
+ CPU 레지스터에 직접 연결되는 캐시
+ 특수 캐시(명령어 캐시, 데이터 캐시)
  + 명령어와 데이터를 구분하여 가져옴

<br>

### L2 캐시
+ 메모리와 연결되는 캐시
+ 일반 캐시
  + 명령어와 데이터를 구분하지 않고 모든 자료를 가져옴

<br>

### 저장장치의 계층 구조
+ 속도가 빠르고 값이 비싼 저장장치(레지스터, 캐시)를 CPU 가까운 쪽에 배치
+ 값이 싸고 용량이 큰 저장장치(하드디스크)를 CPU 반대쪽에 배치
+ **적당한 가격으로 빠른 속도와 큰 용량을 동시에 얻는 방법**

<br>

### 인터럽트
+ CPU의 작업과 저장장치의 데이터 이동을 독립적으로 운영함으로써 시스템 효율 개선
+ 데이터의 입출력이 이루어지는 동안 CPU가 다른 작업을 할 수 있음

<br>

### 인터럽트 방식의 동작 과정
+ CPU가 입출력 관리자에게 입출력 명령 전송
  + 여러 개의 입출력 작업을 동시에 시킬 수 있음(인터럽트 벡터 사용)
+ 입출력 관리자는 명령받은 데이터를 메모리에 가져다놓거나 메모리에 있는 데이터를 저장장치로 옮김
  + 입출력장치 : 하드디스크, 마우스, 키보드, 프린터 등
+ 데이터 전송 완료 시 입출력 관리자는 완료 신호(인터럽트)를 CPU에 전송
  + 많은 주변장치 식별 위해 인터럽트 번호(장치의 고유 번호) 사용(운영체제마다 상이)

<br>

### 직접 메모리 접근
+ 메모리는 CPU만 접근 권한을 가진 작업 공간
+ 입출력 관리자는 **직접 메모리 접근**이라는 권한을 통해 CPU의 관여 없이 메모리 작업 처리 가능
  + CPU가 요청한 데이터를 메모리에 가져다 놓을 수 있음
+ 직접 메모리 접근은 인터럽트 방식의 시스템 구성 시 필수 요소

<br>

### 메모리 매핑 입출력
+ 메모리의 일정 공간을 입출력에 할당하는 기법
+ 메모리에는 CPU가 사용하는 데이터와 입출력 장치가 사용하는 데이터가 섞여 있음
+ CPU가 사용하는 메모리 공간과 직접 메모리 접근을 통해 들어오거나 나가는 데이터를 위한 공간을 분리

<br>

### 사이클 훔치기
+ CPU와 직접 메모리 접근이 동시에 메모리에 접근하려고 한다면?
+ CPU의 작업 속도보다 입출력 장치의 속도가 느려 CPU가 메모리 사용 권한을 직접 메모리 접근에 양보
